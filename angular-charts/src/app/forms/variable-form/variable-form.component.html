<mat-card>
  <mat-card-header
    ><h2 class="titulo">Elegir una variable</h2>
  </mat-card-header>
  <mat-card-content>
    <div>
      <mat-accordion>
        <mat-expansion-panel (click)="GetAllVariables()" hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title> Listado de variables</mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list role="list" *ngFor="let variable of listaVariables">
            <mat-list-item role="listitem">
              {{ variable.nombre }}
              <button
                matListItemMeta
                mat-icon-button
                (click)="openDialog(variable._id)"
              >
                <mat-icon class="mat-24">delete</mat-icon>
              </button>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </mat-card-content>
</mat-card>

<mat-card>
  <mat-card-header
    ><h2 class="titulo">Ingresar una nueva variable</h2>
  </mat-card-header>
  <mat-card-content>
    <div class="flex flex-col">
      <form
        class="example-form"
        [formGroup]="variableForm"
        (ngSubmit)="crearVariable()"
      >
        <div class="grid grid-cols-3 grid-rows-4">
          <div class="col-span-3">
            <mat-form-field class="">
              <mat-label>nombre de la variable </mat-label>
              <input matInput formControlName="nombre" />
            </mat-form-field>
          </div>
          <div class="col-span-3">
            <mat-form-field class="">
              <mat-label>descripcion de la variable </mat-label>
              <input matInput formControlName="descripcion" />
            </mat-form-field>
          </div>
          <div class="col-span-3">
            <mat-form-field class="">
              <mat-label>valor del trigger </mat-label>
              <input matInput formControlName="trigger_valor" />
            </mat-form-field>
          </div>

          <div class="col-span-3 justify-self-end">
            <button
              class="boton"
              mat-raised-button
              [disabled]="
                !variableForm.value.nombre || !variableForm.value.descripcion
              "
            >
              Registrar
            </button>
          </div>
        </div>
      </form>
    </div>
  </mat-card-content>
</mat-card>
